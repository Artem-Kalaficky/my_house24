{% extends 'crm/layout/base.html' %}
{% load static %}

{% block style %}
    <style>
        input.error {
            border: red 1px solid;
            position: relative;
            box-shadow: 0 0 4px 0 firebrick;
        }
    </style>
{% endblock %}

{% block settings %}menu-is-opening menu-open{% endblock %}
{% block items %}class="nav-link active-link" style="color: black; background-color: #e1f1ea"{% endblock %}
{% block items-active %}class="black"{% endblock %}

{% block title %}Новая статья{% endblock %}
{% block name_page %}Новая статья{% endblock %}
{% block previos_link %}<a href="{% url 'items_list' %}" style="color: #494949">/ Статьи приходов/расходов</a>{% endblock %}
{% block nav %}Новая статья{% endblock %}

{% block content %}
    <div class="my-box" style="margin-top: 50px; min-height: 280px">
        <form method="post" id="form">
            {% csrf_token %}
            <div class="row" style="margin: 8px">
                <div class="col-xl-7" style="padding: 0 10px">
                    <p style="margin: 0; font-weight: 600; font-size: 15px">{{ form.name.label }}</p>
                    {{ form.name }}
                </div>
            </div>
            <div class="row" style="margin: 8px; padding-top: 15px">
                <div class="col-xl-7" style="padding: 0 10px">
                    <p style="margin: 0; font-weight: 600; font-size: 15px">{{ form.income_expense.label }}</p>
                    {{ form.income_expense }}
                </div>
            </div>
            <div style="float: right; padding-right: 16px; padding-top: 35px">
                <a href="{% url 'items_list' %}" class="btn btn-default">Отменить</a>
                <button type="submit" class="btn btn-success">Сохранить</button>
            </div>
        </form>
    </div>
{% endblock %}

{% block script %}
    <script>
        $("#form").validate({
          messages: {
            name: "* Обязательное поле",
          },
          wrapper: 'span',
          errorPlacement: function (error, element) {
              error.css({'text-align': 'left', 'font-size': '14px', 'color': 'red', 'width': '100%'});
              error.insertAfter(element);
          }
        });
    </script>
{% endblock %}

